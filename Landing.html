<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Lieblingsorte ‚Äì Landing Page - c</title>
  <meta name="description" content="Eine Landing Page √ºber Lieblingsorte. Klick auf Buttons, um Pop-ups mit Infos zu √∂ffnen." />
  <style>
    :root{
      --bg:#0b1020;
      --text:#eaf0ff;
      --muted:rgba(234,240,255,.72);
      --card:rgba(255,255,255,.08);
      --border:rgba(255,255,255,.14);
      --accent:#7c5cff;
      --accent2:#35d2ff;
      --shadow:0 18px 60px rgba(0,0,0,.45);
      --r:18px;
      --focus: rgba(53,210,255,.35);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 15% 10%, rgba(124,92,255,.25), transparent 55%),
        radial-gradient(900px 600px at 90% 20%, rgba(53,210,255,.18), transparent 50%),
        radial-gradient(900px 700px at 50% 90%, rgba(255,80,140,.15), transparent 55%),
        linear-gradient(180deg, #070a14, var(--bg));
      min-height:100vh;
    }
    a{color:inherit}
    .wrap{width:min(1150px,92vw); margin:0 auto; padding:18px 0 60px;}
    header{
      position:sticky; top:0; z-index:20;
      background: linear-gradient(180deg, rgba(11,16,32,.92), rgba(11,16,32,.65));
      backdrop-filter: blur(12px);
      border-bottom:1px solid var(--border);
    }
    .topbar{
      display:flex; align-items:center; justify-content:space-between; gap:14px;
      padding:12px 0;
    }
    .brand{
      display:flex; align-items:center; gap:12px; text-decoration:none;
    }
    .logo{
      width:40px; height:40px; border-radius:14px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 10px 30px rgba(124,92,255,.25);
      position:relative; overflow:hidden;
    }
    .logo::after{
      content:""; position:absolute; inset:-30%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.55), transparent 55%);
      transform: rotate(18deg);
    }
    .brand b{display:block; font-size:14px; letter-spacing:.2px}
    .brand small{display:block; font-size:12px; color:var(--muted); margin-top:2px}
    nav{display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end}
    nav a{
      text-decoration:none; font-size:13px; color:var(--muted);
      padding:8px 10px; border-radius:12px; border:1px solid transparent;
      transition:.2s ease;
    }
    nav a:hover{color:var(--text); border-color:var(--border); background:rgba(255,255,255,.06)}
    .section{padding:28px 0}
    .card{
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      border-radius: var(--r);
      padding:18px;
      box-shadow: 0 2px 0 rgba(255,255,255,.02);
    }
    .hero{
      border:1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .hero::before{
      content:""; position:absolute; inset:-2px;
      background:
        radial-gradient(600px 220px at 20% 20%, rgba(124,92,255,.25), transparent 60%),
        radial-gradient(520px 240px at 85% 40%, rgba(53,210,255,.18), transparent 60%);
      pointer-events:none;
    }
    .hero-inner{
      position:relative;
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap:18px;
      padding:26px;
      align-items:center;
    }
    h1{
      margin:0 0 10px;
      font-size: clamp(28px, 4vw, 46px);
      line-height:1.05;
    }
    .lead{margin:0 0 16px; color:var(--muted); line-height:1.6; max-width:62ch}
    .badges{display:flex; flex-wrap:wrap; gap:10px; margin-top:10px}
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      border-radius:999px;
      padding:8px 12px;
      font-size:13px;
      color:var(--muted);
    }
    .dot{
      width:10px; height:10px; border-radius:999px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 0 0 4px rgba(124,92,255,.12);
    }
    .cta{display:flex; gap:10px; flex-wrap:wrap; margin-top:18px}
    .btn{
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      color: var(--text);
      padding:11px 14px;
      border-radius:14px;
      cursor:pointer;
      transition:.2s ease;
      font-weight:700;
      font-size:13px;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:10px;
    }
    .btn.primary{
      border-color:transparent;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      color:#0b1020;
      box-shadow: 0 12px 30px rgba(124,92,255,.22);
    }
    .btn:hover{transform:translateY(-1px)}
    .btn:active{transform:translateY(0)}
    .btn:focus{outline:none}
    .btn:focus-visible{
      box-shadow: 0 0 0 4px var(--focus);
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:14px;
    }
    .place-card{
      grid-column: span 4;
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      border-radius: var(--r);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      min-height: 260px;
    }
    .place-media{
      aspect-ratio: 16/10;
      background:
        radial-gradient(140px 120px at 30% 30%, rgba(255,255,255,.28), transparent 65%),
        linear-gradient(135deg, rgba(124,92,255,.28), rgba(53,210,255,.2)),
        repeating-linear-gradient(45deg, rgba(255,255,255,.08) 0 10px, rgba(255,255,255,.02) 10px 20px);
      border-bottom: 1px solid rgba(255,255,255,.12);
      position:relative;
    }
    .place-media::after{
      content:"";
      position:absolute;
      inset:0;
      background: radial-gradient(220px 120px at 70% 40%, rgba(255,255,255,.22), transparent 60%);
      opacity:.8;
    }
    .place-body{padding:16px; display:grid; gap:10px}
    .place-title{display:flex; align-items:flex-start; justify-content:space-between; gap:10px}
    .place-title b{font-size:16px}
    .place-title small{color:var(--muted); font-size:12px}
    .meta{
      display:flex; flex-wrap:wrap; gap:8px;
      margin-top:2px;
    }
    .tag{
      font-size:12px;
      color: var(--muted);
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      padding:6px 10px;
      border-radius:999px;
    }
    .place-actions{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
    .ghost{
      background: rgba(0,0,0,.16);
      border: 1px solid rgba(255,255,255,.16);
    }

    /* Modal */
    .modal-backdrop{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.55);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 50;
    }
    .modal-backdrop[aria-hidden="false"]{display:flex;}
    .modal{
      width: min(820px, 96vw);
      border-radius: 22px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(11,16,32,.85);
      backdrop-filter: blur(16px);
      box-shadow: 0 30px 90px rgba(0,0,0,.55);
      overflow:hidden;
    }
    .modal-header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding: 14px 16px;
      border-bottom: 1px solid rgba(255,255,255,.12);
    }
    .modal-header b{font-size:14px}
    .modal-close{
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      color: var(--text);
      border-radius: 12px;
      padding: 8px 10px;
      cursor:pointer;
      font-weight:700;
    }
    .modal-close:focus-visible{outline:none; box-shadow:0 0 0 4px var(--focus)}
    .modal-content{
      padding: 16px;
      display:grid;
      gap: 12px;
    }
    .modal-hero{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      border-radius: 18px;
      padding: 14px;
      display:grid;
      gap: 10px;
    }
    .modal-hero p{margin:0; color:var(--muted); line-height:1.6}
    .modal-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    .info{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      border-radius: 16px;
      padding: 12px;
    }
    .info b{font-size:13px}
    .info p{margin-top:6px; font-size:13px}

    /* Footer */
    footer{
      margin-top: 18px;
      padding-top: 18px;
      border-top: 1px solid rgba(255,255,255,.12);
      color: var(--muted);
      font-size: 12px;
      display:flex;
      justify-content:space-between;
      flex-wrap:wrap;
      gap:10px;
    }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
    }
    .pill .dot{width:8px; height:8px; box-shadow:0 0 0 3px rgba(53,210,255,.12)}

    @media (max-width: 980px){
      .hero-inner{grid-template-columns:1fr}
      .place-card{grid-column: span 6}
      .modal-grid{grid-template-columns:1fr}
    }
    @media (max-width: 640px){
      nav{display:none}
      .place-card{grid-column: span 12}
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap topbar">
      <a class="brand" href="#top">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <b>Lieblingsorte</b>
          <small>Landing Page ‚Ä¢ klickbare Orte ‚Ä¢ Pop-ups</small>
        </div>
      </a>

      <nav aria-label="Navigation">
        <a href="#orte">Orte</a>
        <a href="#howto">Wie es funktioniert</a>
        <a href="#kontakt">Kontakt</a>
      </nav>
    </div>
  </header>

  <main id="top" class="wrap">
    <!-- HERO -->
    <section class="section hero" aria-label="Hero">
      <div class="hero-inner">
        <div>
          <h1>Lerne unsere <span style="background:linear-gradient(135deg,var(--accent),var(--accent2)); -webkit-background-clip:text; background-clip:text; color:transparent;">Lieblingsorte</span> kennen.</h1>
          <p class="lead">
            Unten findest du L√§nder als Karten. Mit einem Klick auf ‚ÄûMehr erfahren‚Äú √∂ffnet sich ein Pop-up (Modal)
            und l√§dt den Inhalt aus einer eigenen HTML-Datei (Japan/USA/Australien).
          </p>

          <div class="badges" aria-label="Badges">
            <span class="badge"><span class="dot" aria-hidden="true"></span> One Pager</span>
            <span class="badge"><span class="dot" aria-hidden="true"></span> Subpages als Dateien</span>
            <span class="badge"><span class="dot" aria-hidden="true"></span> Pop-up l√§dt Inhalt</span>
            <span class="badge"><span class="dot" aria-hidden="true"></span> Look bleibt gleich</span>
          </div>

          <div class="cta">
            <a class="btn primary" href="#orte">üó∫Ô∏è Orte ansehen</a>
            <a class="btn" href="#howto">üß© F√ºr Entwickler</a>
          </div>
        </div>

        <div class="card">
          <b style="font-size:14px;">Quickstart</b>
          <p style="margin-top:8px;">
            1) <code>index.html</code> + <code>japan.html</code> + <code>usa.html</code> + <code>australia.html</code><br/>
            2) In GitHub Repo pushen<br/>
            3) GitHub Pages aktivieren<br/>
            4) Buttons √∂ffnen Modals ‚úÖ
          </p>
        </div>
      </div>
    </section>

    <!-- PLACES -->
    <section id="orte" class="section" aria-label="Orte">
      <div class="card">
        <h2 style="margin:0 0 10px; font-size:18px;">Unsere Orte</h2>
        <p>Die Karten laden Inhalte aus <b>eigenen HTML-Dateien</b> und zeigen sie als Pop-up an.</p>
      </div>

      <div style="height:14px"></div>

      <div class="grid" id="placesGrid" aria-live="polite"></div>

      <footer>
        <div class="pill"><span class="dot" aria-hidden="true"></span> Made for your project</div>
        <div>¬© <span id="year"></span> Lieblingsorte</div>
      </footer>
    </section>

    <!-- HOWTO -->
    <section id="howto" class="section" aria-label="Wie es funktioniert">
      <div class="card">
        <h2 style="margin:0 0 10px; font-size:18px;">Wie es funktioniert</h2>
        <p>
          Jeder Eintrag in <code>PLACES</code> hat ein Feld <code>page</code> (z. B. <code>japan.html</code>).
          Beim Klick l√§dt JavaScript diese Datei und zeigt den Inhalt im Modal.
        </p>
        <div class="modal-hero" style="margin-top:12px;">
          <b>Erweiterung</b>
          <p>
            1) Neue Datei erstellen, z. B. <code>italy.html</code><br/>
            2) Neues Objekt in <code>PLACES</code> hinzuf√ºgen mit <code>page:"italy.html"</code><br/>
            3) Fertig ‚úÖ
          </p>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="kontakt" class="section" aria-label="Kontakt">
      <div class="card">
        <h2 style="margin:0 0 10px; font-size:18px;">Kontakt / Impressum (Platzhalter)</h2>
        <p>Hier k√∂nnt ihr sp√§ter eure Infos eintragen.</p>
      </div>
    </section>
  </main>

  <!-- MODAL -->
  <div class="modal-backdrop" id="modalBackdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-header">
        <b id="modalTitle">Ort</b>
        <button class="modal-close" id="modalCloseBtn" type="button" aria-label="Modal schlie√üen">‚úï</button>
      </div>

      <div class="modal-content">
        <div class="modal-hero" id="modalHeroBox">
          <p class="muted" style="margin:0;">Inhalt wird geladen‚Ä¶</p>
          <div class="meta" id="modalTags"></div>
        </div>

        <div class="info" id="subpageContainer" style="display:none;">
          <!-- Subpage MAIN content gets injected here -->
        </div>
      </div>
    </div>
  </div>

  <script>
    /**
     * Orte-Daten: Jede Karte hat eine eigene Subpage-Datei (page).
     */
    const PLACES = [
      {
        id: "japan",
        title: "Korea",
        location: "Asien",
        tags: ["Kultur", "Food", "St√§dte"],
        intro: "Tradition trifft Zukunft: Tempel, Neon, Onsen und Top-Essen.",
        page: "japan.html",
        imageCss: "linear-gradient(135deg, rgba(124,92,255,.30), rgba(53,210,255,.22))"
      },
      {
        id: "usa",
        title: "USA üá∫üá∏",
        location: "Nordamerika",
        tags: ["Roadtrip", "Nationalparks", "St√§dte"],
        intro: "Von Skylines bis W√ºsten: gro√üe Distanzen, gro√üe Vielfalt.",
        page: "usa.html",
        imageCss: "linear-gradient(135deg, rgba(53,210,255,.22), rgba(255,80,140,.18))"
      },
      {
        id: "australia",
        title: "Australien üá¶üá∫",
        location: "Ozeanien",
        tags: ["Str√§nde", "Wildlife", "Abenteuer"],
        intro: "Surf, Outback, Koalas: Natur pur und entspannter Lifestyle.",
        page: "australien.html",
        imageCss: "linear-gradient(135deg, rgba(255,80,140,.18), rgba(124,92,255,.26))"
      }
    ];

    // ---------- Rendering ----------
    document.getElementById("year").textContent = new Date().getFullYear();
    const grid = document.getElementById("placesGrid");
  
    function escapeHtml(str){
      return String(str ?? "")
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }


    function renderPlaces(){
      grid.innerHTML = "";
      PLACES.forEach(place => {
        const card = document.createElement("article");
        card.className = "place-card";
        card.innerHTML = `
          <div class="place-media" style="background:${place.imageCss || ''}">
          </div>

          <div class="place-body">
            <div class="place-title">
              <div>
                <b>${escapeHtml(place.title)}</b><br/>
                <small>${escapeHtml(place.location || "")}</small>
              </div>
              <span class="tag">#${escapeHtml(place.id)}</span>
            </div>

            <div class="meta">
              ${(place.tags || []).slice(0,3).map(t => `<span class="tag">${escapeHtml(t)}</span>`).join("")}
            </div>

            <p>${escapeHtml(place.intro || "")}</p>
                         
            <div class="place-actions">
              <a class="btn primary" href="${escapeHtml(place.page)}">Mehr erfahren</a>
              <button class="btn ghost" type="button" data-open-modal="${escapeHtml(place.id)}">Seite laden</button>
            </div>



        `;
        grid.appendChild(card);
      });
    }

    // ---------- Modal logic (loads subpage HTML) ----------
    const backdrop = document.getElementById("modalBackdrop");
    const closeBtn = document.getElementById("modalCloseBtn");

    const modalTitle = document.getElementById("modalTitle");
    const modalTags = document.getElementById("modalTags");
    const modalHeroBox = document.getElementById("modalHeroBox");
    const subpageContainer = document.getElementById("subpageContainer");

    let lastFocusEl = null;

    async function openModal(placeId){
      const place = PLACES.find(p => p.id === placeId);
      if(!place) return;

      lastFocusEl = document.activeElement;

      modalTitle.textContent = place.title || "Ort";
      modalTags.innerHTML = (place.tags || [])
        .map(t => `<span class="tag">${escapeHtml(t)}</span>`)
        .join("");

      backdrop.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
      closeBtn.focus();

      // Loading state (keeps your look)
      modalHeroBox.querySelector("p").textContent = `Lade Inhalt aus ${place.page} ‚Ä¶`;
      subpageContainer.style.display = "none";
      subpageContainer.innerHTML = "";

      try{
        const res = await fetch(place.page, { cache: "no-store" });
        if(!res.ok) throw new Error("Fetch failed");

        const htmlText = await res.text();
        const doc = new DOMParser().parseFromString(htmlText, "text/html");
        const main = doc.querySelector("main");

        // Inject only the <main> content for clean popup view
        subpageContainer.innerHTML = main ? main.innerHTML : htmlText;
        subpageContainer.style.display = "block";

        modalHeroBox.querySelector("p").textContent = place.intro || "Details";  
        }catch(err){
          // Fallback: Bei lokal ge√∂ffneten Dateien (file://) navigieren wir direkt zur Seite
          if (location.protocol === 'file:') {
            window.location.href = place.page;
            return;
          }
          modalHeroBox.querySelector("p").textContent = `Fehler: ${place.page} konnte nicht geladen werden.`;
          subpageContainer.style.display = "none";
        }

    }

    function closeModal(){
      backdrop.setAttribute("aria-hidden", "true");
      document.body.style.overflow = "";
      if(lastFocusEl && typeof lastFocusEl.focus === "function") lastFocusEl.focus();
    }

    document.addEventListener("click", (e) => {
      const btn = e.target.closest("[data-open-modal]");
      if(btn){
        openModal(btn.getAttribute("data-open-modal"));
        return;
      }
      if(e.target === backdrop){
        closeModal();
      }
    });

    closeBtn.addEventListener("click", closeModal);

    document.addEventListener("keydown", (e) => {
      if(e.key === "Escape" && backdrop.getAttribute("aria-hidden") === "false"){
        closeModal();
      }
    });

    renderPlaces();
  </script>
</body>
</html>